# 모바일 기기 접속 가이드

## 🚨 현재 문제
모바일 기기에서 `192.168.219.41:3000`에 접속할 수 없습니다.
오류: `ERR_CONNECTION_REFUSED` (연결 거부)

## ✅ 해결 방법 (단계별)

### 1단계: PC의 IP 주소 확인

PowerShell 또는 명령 프롬프트에서 실행:
```powershell
ipconfig
```

출력에서 `IPv4 주소`를 찾으세요. 예: `192.168.219.41`

### 2단계: 방화벽 설정 (관리자 권한 필요)

**방법 A: 자동 스크립트 사용 (권장)**
1. `setup-firewall.bat` 파일을 **우클릭**
2. **"관리자 권한으로 실행"** 선택
3. 스크립트가 자동으로 방화벽 규칙 추가

**방법 B: 수동 설정**
PowerShell을 **관리자 권한으로 실행**하고:
```powershell
netsh advfirewall firewall add rule name="Next.js Dev Server" dir=in action=allow protocol=TCP localport=3000
```

### 3단계: 서버를 모바일 모드로 재시작

**중요:** 현재 실행 중인 서버를 중지하고 (Ctrl+C) 다음 중 하나를 실행:

**방법 A: 배치 파일 사용 (권장)**
- `start-server-mobile.bat` 더블클릭

**방법 B: 명령어 직접 실행**
```powershell
npm run dev:mobile
```

또는:
```powershell
next dev -H 0.0.0.0
```

### 4단계: 네트워크 확인

✅ **PC와 모바일이 같은 WiFi 네트워크에 연결되어 있어야 합니다**

확인 방법:
- PC: WiFi 이름 확인
- 모바일: 설정 → WiFi → 연결된 네트워크 확인
- **두 기기가 같은 네트워크여야 합니다**

### 5단계: 모바일에서 접속

모바일 브라우저에서:
```
http://192.168.219.41:3000
```
(192.168.219.41를 2단계에서 확인한 실제 IP 주소로 변경)

## 🔍 문제 해결 체크리스트

### 서버가 올바르게 실행되었는지 확인
서버 콘솔에 다음과 같이 표시되어야 합니다:
```
- ready started server on 0.0.0.0:3000, url: http://localhost:3000
```

만약 `localhost:3000`만 표시되면 모바일 모드가 아닙니다.

### 방화벽 규칙 확인
PowerShell에서 실행:
```powershell
netsh advfirewall firewall show rule name="Next.js Dev Server"
```

규칙이 표시되면 정상입니다.

### PC에서 직접 테스트
PC의 브라우저에서:
- ✅ `http://localhost:3000` → 작동해야 함
- ✅ `http://127.0.0.1:3000` → 작동해야 함
- ❌ `http://192.168.219.41:3000` → 방화벽 설정 후 작동

### 여전히 안 되는 경우

1. **방화벽 비활성화 테스트 (임시)**
   ```powershell
   # 관리자 권한 PowerShell에서
   netsh advfirewall set allprofiles state off
   ```
   테스트 후 다시 활성화:
   ```powershell
   netsh advfirewall set allprofiles state on
   ```

2. **Windows Defender 방화벽 확인**
   - Windows 설정 → 네트워크 및 인터넷 → Windows Defender 방화벽
   - 고급 설정 → 인바운드 규칙 → "Next.js Dev Server" 확인

3. **다른 방화벽 소프트웨어 확인**
   - 백신 프로그램의 방화벽 기능 확인
   - 타사 방화벽 소프트웨어 확인

4. **포트 충돌 확인**
   ```powershell
   netstat -ano | findstr :3000
   ```
   다른 프로세스가 3000 포트를 사용 중일 수 있습니다.

## 💡 빠른 대안: 브라우저 개발자 도구 사용

방화벽 설정 없이 모바일 화면을 테스트하려면:

1. Chrome/Edge에서 `F12` 누르기
2. `Ctrl+Shift+M` (모바일 모드)
3. `http://localhost:3000` 접속
4. 상단에서 모바일 기기 선택 (iPhone, Galaxy 등)

이 방법은 실제 모바일 기기 접속은 아니지만, 모바일 화면을 테스트할 수 있습니다.

## 📝 요약

1. ✅ PC IP 주소 확인 (`ipconfig`)
2. ✅ 방화벽 규칙 추가 (`setup-firewall.bat` 관리자 권한으로 실행)
3. ✅ 서버를 모바일 모드로 재시작 (`start-server-mobile.bat`)
4. ✅ PC와 모바일이 같은 WiFi 네트워크에 연결
5. ✅ 모바일에서 `http://[PC_IP]:3000` 접속

## 🆘 여전히 문제가 있나요?

1. 서버 콘솔 로그 확인
2. 모바일 브라우저의 오류 메시지 확인
3. PC와 모바일의 WiFi 네트워크 이름이 동일한지 확인
4. PC의 IP 주소가 변경되지 않았는지 확인 (DHCP 사용 시)















