# 모바일 접속 문제 해결 방법

## 문제 확인
- ✅ 서버가 0.0.0.0:3000에서 실행 중 (정상)
- ❌ 로컬호스트 연결 거부
- ❌ 모바일 기기 접속 불가

## 해결 방법

### 1. 개발 서버를 모바일 모드로 재시작

현재 실행 중인 서버를 중지하고, 모바일 접속용 명령어로 재시작하세요:

```powershell
# Ctrl+C로 현재 서버 중지 후
npm run dev:mobile
```

또는 직접 명령어:
```powershell
next dev -H 0.0.0.0
```

### 2. 방화벽 설정 (관리자 권한 필요)

PowerShell을 **관리자 권한으로 실행**하고 다음 명령어 실행:

```powershell
netsh advfirewall firewall add rule name="Next.js Dev Server" dir=in action=allow protocol=TCP localport=3000
```

방화벽 규칙이 이미 있는 경우 삭제 후 다시 추가:
```powershell
netsh advfirewall firewall delete rule name="Next.js Dev Server"
netsh advfirewall firewall add rule name="Next.js Dev Server" dir=in action=allow protocol=TCP localport=3000
```

### 3. PC의 IP 주소 확인

PowerShell에서 실행:
```powershell
Get-NetIPAddress -AddressFamily IPv4 | Where-Object {$_.IPAddress -notlike "127.*" -and $_.IPAddress -notlike "169.254.*"} | Select-Object IPAddress, InterfaceAlias
```

또는 간단하게:
```powershell
ipconfig | findstr IPv4
```

### 4. 모바일 기기에서 접속

1. **PC와 모바일이 같은 WiFi 네트워크에 연결되어 있어야 합니다**
2. 모바일 브라우저에서 접속:
   ```
   http://[PC의IP주소]:3000
   ```
   예: `http://192.168.219.41:3000`

### 5. 접속 테스트

PC의 웹 브라우저에서 다음을 테스트:
- `http://localhost:3000` ✅ (로컬)
- `http://127.0.0.1:3000` ✅ (로컬)
- `http://[PC의IP주소]:3000` ❌ (외부 접속, 방화벽 설정 후 가능)

### 6. 여전히 안 되는 경우

1. **Windows Defender 방화벽 확인**
   - Windows 설정 → 네트워크 및 인터넷 → Windows Defender 방화벽
   - 고급 설정 → 인바운드 규칙 확인

2. **방화벽 비활성화 (테스트용)**
   ```powershell
   # 임시로 방화벽 비활성화 (보안 주의!)
   netsh advfirewall set allprofiles state off
   ```
   테스트 후 다시 활성화:
   ```powershell
   netsh advfirewall set allprofiles state on
   ```

3. **방화벽 로그 확인**
   ```powershell
   Get-NetFirewallRule | Where-Object {$_.DisplayName -like "*Next*"} | Get-NetFirewallPortFilter
   ```

### 7. 빠른 테스트 (권장)

브라우저 개발자 도구를 사용하면 방화벽 설정 없이 바로 테스트 가능:
- Chrome/Edge: F12 → Ctrl+Shift+M (모바일 모드)
- Firefox: F12 → Ctrl+Shift+M (반응형 모드)



