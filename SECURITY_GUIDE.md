# λ³΄μ• κ°€μ΄λ“ - μ£Όλ―Όλ“±λ΅λ²νΈ κ΄€λ¦¬

## π”’ μ£Όλ―Όλ“±λ΅λ²νΈ λ³΄μ• κ΄€λ¦¬

μ£Όλ―Όλ“±λ΅λ²νΈλ” λ§¤μ° λ―Όκ°ν• κ°μΈμ •λ³΄μ΄λ―€λ΅ λ‹¤μκ³Ό κ°™μ€ λ³΄μ• μ΅°μΉκ°€ μ μ©λμ–΄ μμµλ‹λ‹¤.

### 1. μ•”νΈν™” μ €μ¥

- **μ•”νΈν™” λ°©μ‹**: AES-256-GCM (Advanced Encryption Standard 256-bit Galois/Counter Mode)
- **μ €μ¥ μ„μΉ**: `user_sensitive` ν…μ΄λΈ” (λ³„λ„ λ¶„λ¦¬)
- **μ•”νΈν™” ν‚¤**: ν™κ²½ λ³€μ `ENCRYPTION_KEY`λ΅ κ΄€λ¦¬

### 2. ν™κ²½ λ³€μ μ„¤μ •

`.env.local` νμΌμ— λ‹¤μ ν™κ²½ λ³€μλ¥Ό μ¶”κ°€ν•μ„Έμ”:

```env
# μ£Όλ―Όλ“±λ΅λ²νΈ μ•”νΈν™” ν‚¤ (32λ°”μ΄νΈ = 64μ hex λ¬Έμμ—΄)
# β οΈ λ°λ“μ‹ κ°•λ ¥ν• λλ¤ ν‚¤λ¥Ό μƒμ„±ν•μ—¬ μ‚¬μ©ν•μ„Έμ”!
ENCRYPTION_KEY=your-64-character-hex-encryption-key-here
```

#### μ•”νΈν™” ν‚¤ μƒμ„± λ°©λ²•

Node.jsλ¥Ό μ‚¬μ©ν•μ—¬ μ•μ „ν• μ•”νΈν™” ν‚¤λ¥Ό μƒμ„±ν•  μ μμµλ‹λ‹¤:

```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

λλ” μ¨λΌμΈ λ„κµ¬λ¥Ό μ‚¬μ©ν•μ—¬ 32λ°”μ΄νΈ(256λΉ„νΈ) λλ¤ ν‚¤λ¥Ό μƒμ„±ν•μ„Έμ”.

**β οΈ μ¤‘μ”:**
- ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” λ°λ“μ‹ ν™κ²½ λ³€μλ΅ μ„¤μ •ν•μ„Έμ”
- μ•”νΈν™” ν‚¤λ¥Ό μ½”λ“μ— ν•λ“μ½”λ”©ν•μ§€ λ§μ„Έμ”
- μ•”νΈν™” ν‚¤λ¥Ό λ¶„μ‹¤ν•λ©΄ λ³µνΈν™”κ°€ λ¶κ°€λ¥ν•©λ‹λ‹¤
- μ•”νΈν™” ν‚¤λ¥Ό μ•μ „ν•κ² λ°±μ—…ν•μ„Έμ”

### 3. μ ‘κ·Ό μ μ–΄

- **RLS (Row Level Security)**: λ°μ΄ν„°λ² μ΄μ¤ λ λ²¨μ—μ„ μ ‘κ·Ό μ ν•
- **κ¶ν•**: `business_owner`, `platform_admin`λ§ μ ‘κ·Ό κ°€λ¥
- **νμ‚¬λ³„ κ²©λ¦¬**: κ° μ—…μ²΄κ΄€λ¦¬μλ” μμ‹ μ νμ‚¬ μ§μ› μ •λ³΄λ§ μ΅°ν κ°€λ¥

### 4. λ°μ΄ν„° μ „μ†΅ λ³΄μ•

- **HTTPS**: λ¨λ“  ν†µμ‹ μ€ HTTPSλ΅ μ•”νΈν™”
- **μ„λ²„ μ‚¬μ΄λ“ μ²λ¦¬**: μ•”νΈν™”/λ³µνΈν™”λ” μ„λ²„μ—μ„λ§ μν–‰
- **ν΄λΌμ΄μ–ΈνΈ**: μ£Όλ―Όλ“±λ΅λ²νΈλ” λ§μ¤ν‚Ήλμ–΄ ν‘μ‹ (μ: 900101-1******)

### 5. λ§μ¤ν‚Ή ν‘μ‹

μ£Όλ―Όλ“±λ΅λ²νΈλ” ν™”λ©΄μ— ν‘μ‹λ  λ• μλ™μΌλ΅ λ§μ¤ν‚Ήλ©λ‹λ‹¤:
- **ν‘μ‹ ν•μ‹**: `900101-1******` (μ• 7μλ¦¬λ§ ν‘μ‹)
- **λ³µνΈν™”**: μ‹¤μ  μ΅°ν μ‹μ—λ§ λ³µνΈν™”ν•μ—¬ ν‘μ‹

### 6. κ°μ‚¬ λ΅κ·Έ (κ¶μ¥)

ν–¥ν›„ κµ¬ν„ μμ •:
- `user_sensitive_access_log` ν…μ΄λΈ”μ— μ ‘κ·Ό κΈ°λ΅ μ €μ¥
- μ ‘κ·Όμ, μ ‘κ·Ό μ‹κ°„, IP μ£Όμ† λ“± κΈ°λ΅

### 7. λ³΄μ• λ¨λ²” μ‚¬λ΅€

1. **μ •κΈ°μ μΈ ν‚¤ λ΅ν…μ΄μ…**: μ£ΌκΈ°μ μΌλ΅ μ•”νΈν™” ν‚¤ λ³€κ²½ (μ£Όμ: κΈ°μ΅΄ λ°μ΄ν„° μ¬μ•”νΈν™” ν•„μ”)
2. **μ ‘κ·Ό λ΅κ·Έ λ¨λ‹ν„°λ§**: λΉ„μ •μƒμ μΈ μ ‘κ·Ό ν¨ν„΄ κ°μ§€
3. **μµμ† κ¶ν• μ›μΉ™**: ν•„μ”ν• μµμ†ν•μ μ‚¬μ©μλ§ μ ‘κ·Ό κ¶ν• λ¶€μ—¬
4. **λ°μ΄ν„° λ°±μ—…**: μ•”νΈν™” ν‚¤μ™€ ν•¨κ» μ•μ „ν•κ² λ°±μ—…
5. **κ·μ • μ¤€μ**: κ°μΈμ •λ³΄λ³΄νΈλ²•, GDPR λ“± κ΄€λ ¨ λ²•κ· μ¤€μ

### 8. λ¬Έμ  ν•΄κ²°

#### μ•”νΈν™” ν‚¤κ°€ μ„¤μ •λμ§€ μ•μ€ κ²½μ°

κ°λ° ν™κ²½μ—μ„λ” μ„μ‹ ν‚¤κ°€ μλ™ μƒμ„±λμ§€λ§, ν”„λ΅λ•μ…μ—μ„λ” λ°λ“μ‹ ν™κ²½ λ³€μλ¥Ό μ„¤μ •ν•μ„Έμ”.

#### λ³µνΈν™” μ‹¤ν¨

- μ•”νΈν™” ν‚¤κ°€ λ³€κ²½λμ—κ±°λ‚ μΌμΉν•μ§€ μ•λ” κ²½μ°
- λ°μ΄ν„°κ°€ μ†μƒλ κ²½μ°
- ν™κ²½ λ³€μκ°€ μ¬λ°”λ¥΄κ² μ„¤μ •λμ§€ μ•μ€ κ²½μ°

μ΄ κ²½μ° μ„λ²„ λ΅κ·Έλ¥Ό ν™•μΈν•κ³  μ•”νΈν™” ν‚¤λ¥Ό κ²€μ¦ν•μ„Έμ”.

### 9. λ²•μ  κ³ μ§€

μ£Όλ―Όλ“±λ΅λ²νΈλ” κ°μΈμ •λ³΄λ³΄νΈλ²•μ— λ”°λΌ μ—„κ²©ν κ΄€λ¦¬λμ–΄μ•Ό ν•©λ‹λ‹¤:
- μμ§‘ λ©μ : μ„ΈκΈ μ²λ¦¬ (μΌλ‹Ή κ·Όλ΅μ)
- λ³΄μ  κΈ°κ°„: λ²•μ • λ³΄μ  κΈ°κ°„ μ¤€μ
- μ 3μ μ κ³µ: μ›μΉ™μ μΌλ΅ κΈμ§€
- νκΈ°: λ³΄μ  κΈ°κ°„ κ²½κ³Ό ν›„ μ•μ „ν•κ² νκΈ°

---

**λ¬Έμ**: λ³΄μ• κ΄€λ ¨ λ¬Έμμ‚¬ν•­μ΄ μμΌλ©΄ κ°λ°ν€μ— μ—°λ½ν•μ„Έμ”.

